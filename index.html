<!DOCTYPE html>
<html>
<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  

  <link rel="stylesheet" href="index.css">
   <title>formularioprueba</title>
</head>
<body>
  <h1>formulario</h1>
  <br><br>

  <div class="formulario" >
<form method="POST" action="https://b5c89615a669.ngrok-free.app/webhook/formularito">

      <input name="nombre_completo" placeholder="Nombre completo"  required><br><br>
      <input name="cuit" placeholder="CUIT / CUIL" required><br><br>
      <input name="domicilio" placeholder="Domicilio Fiscal" required><br><br>
      <input name="email" type="email" placeholder="Correo electrónico" required><br><br>
      <input name="asunto" placeholder="Asunto del informe" required><br><br>
      <textarea name="detalle" placeholder="Detalle del reclamo o consulta" rows="4" required></textarea><br><br>
      <input name="anio_fiscal" placeholder="Año fiscal (ej: 2024)" required><br><br>
      <input name="tipo_servicio" placeholder="Tipo de servicio requerido" required><br><br>
      <select name="adjunta_documentacion" required>
        <option value="">¿Adjunta documentación?</option>
        <option value="Sí">Sí</option>
        <option value="No">No</option>
      </select><br><br>
      <textarea name="observaciones" placeholder="Observaciones adicionales" rows="3"></textarea><br><br>
      <input name="matricula" placeholder="Matrícula del profesional" required><br><br>


        <button type="button" onclick="validarFormulario()">Generar Documento</button>

        <div class="modal" id="exampleModal" tabindex="-1">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title">formulario enviado</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                 
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    
                  </div>
                </div>
              </div>
        </div>
        <div class="modal" id="modalnegativo" tabindex="-1">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title">Porfavor llene todos los campos</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                 
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    
                  </div>
                </div>
              </div>
        </div>
    </form>
  </div>

  <iframe name="dummyFrame" style="display:none;"></iframe>
  
  <script>
  function validarFormulario() {
  const form = document.querySelector("form");
  if (form.checkValidity()) {
    const modal = new bootstrap.Modal(document.getElementById("exampleModal"));
    modal.show();
    form.submit(); // <-- Enviar el formulario a n8n
  } else {
    const modal = new bootstrap.Modal(document.getElementById("modalnegativo"));
    modal.show();
    form.reportValidity();
  }
}

</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>


</body>
</html>
